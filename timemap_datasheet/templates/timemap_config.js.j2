module.exports = {
  title: '{{ application_name }}',
  display_title: '{{ display_name }}',
  SERVER_ROOT: 'http{{ 's' if use_https else '' }}://{{ domain_name }}/{{ application_name }}-server',
  EVENT_EXT: '/api/{{ application_name }}/welfare_export_events/deeprows',
  CATEGORY_EXT: '/api/{{ application_name }}/welfare_export_categories/rows',
  SOURCES_EXT: '/api/{{ application_name }}/welfare_export_sources/deepids',
  NARRATIVE_EXT: '/api/{{ application_name }}/welfare_narratives/ids',
  TAGS_EXT: '/api/{{ application_name }}/welfare_export_tags/tree',
  NARRATIVE_EXT: '/api/{{ application_name }}/welfare_export_narratives/rows',
  SITES_EXT: '/api/{{ application_name }}/welfare_export_sites/rows',
  INCOMING_DATETIME_FORMAT: '{{ incoming_datetime_format }}',
  {% if mapbox_token is defined %}
    MAPBOX_TOKEN: '{{ mapbox_token }}',
  {% endif %}
  features: {
    {% for key, value in timemap.features.items() %}
      {{key}}: {{ 'true' if value else 'false' }},
    {% endfor %}
  },
  store: {
    app: {
      {% if 'app' in timemap.store and 'cover' in timemap.store.app %}
      cover: {{ timemap.store.app.cover | to_nice_json }},
      {% endif %}
      {% if 'app' in timemap.store and 'map' in timemap.store.app %}
      map: {{ timemap.store.app.map | to_nice_json }},
      {% endif %}
      timeline: {
        range: [
          new Date("{{ timemap.store.app.timeline.range[0] }}"),
          new Date("{{ timemap.store.app.timeline.range[1] }}")
        ],
        rangeLimits: [
          new Date("{{ timemap.store.app.timeline.rangeLimits[0] }}"),
          new Date("{{ timemap.store.app.timeline.rangeLimits[1] }}")
        ]
      }
    },
    ui: {{ timemap.store.ui | to_nice_json }}
  }
}
